<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<!--/* Allows to open Jmol models on request, in a div
Available from http://biomodel.uah.es/Jmol/ and http://wiki.jmol.org/ Author: Angel Herráez. Version 2007.04.23
Modified by Jonathan Gutow Version 2007.07.17
This template is offered freely for anyone to use or adapt it, according to Creative Commons Attribution-ShareAlike 3.0 License,
http://creativecommons.org/licenses/by-sa/3.0/
*/-->
  <meta http-equiv="content-type"
 content="text/html; charset=ISO-8859-1">
  <meta name="generator" content="Jmol, see http://www.jmol.org">
  <meta name="Author" content="J. Gutow">
  <meta name="keywords" content="generated_by_Jmol_Webexport">
  <title>Jmol text and labels</title>
  <style type="text/css">
/* These are important, don't change: */
html, body { height:100%; overflow:hidden; margin:0; padding:0; }
.JmolPanels { position:absolute; overflow:hidden;}
.textPanels { position:absolute; overflow:auto; }
#JmolPane {left:50%; width: 50%; top:0px; height:100%; }
#mainPane { left:0px; width:50%; top:0px; height:100%; }
#JmolDiv {width:100%; height:100%;}
#Jmol0 {width:100%; height:100%;}
/* Don't add margin or padding to textPane; if needed, use an inner div with desired style (like 'contents' below) */
/* These are aesthetic, can be customized: */
.content { padding:0.5em 1ex; }
.textPanels { background-color:rgb(102, 255, 255); }
  </style>
  <script src="JmolPopIn.js" type="text/javascript"></script>
  <script type="text/javascript">
var jmoljarpath = "../../../Applets/Java/Jmol"; // where Jmol.jar is to be found on a server
var jmoljspath = "../../../Applets/Java/Jmol"; // where Jmol.js is to be found on a server
var jmollocaljarpath = "../"; // where Jmol.jar is to be found locally
var jmollocaljspath = "../"; // where Jmol.js is to be found locally
var jmoljarfile = "JmolApplet.jar"; // "JmolApplet.jar" is everything in one file
var dataDir = "."; // where the model AND .spt files are to be found.
changePathIfLocal();
  </script>
  <script type="text/javascript">
addJavaScript(jmoljspath, "Jmol.js");
  </script>
  <script type="text/javascript">
jmolInitialize(jmoljarpath, jmoljarfile); jmolSetDocument(0);
  </script>
</head>
<body style="color: rgb(0, 0, 0); background-color: rgb(102, 255, 255);"
 onload="scriptbuttonJmol('Default_ethane.spt')">
<div id="JmolPane" class="JmolPanels">
<div id="Jmol0" class="JmolDiv"> <img src="Default_ethane.png"
 alt="still of jmol image" style="height: 100%; width: 100%;"> </div>
</div>
<div id="mainPane" class="textPanels">
<div id="mainContent">
<div style="text-align: center;"><big><span style="font-weight: bold;">Adding
Labels and Text Annotation</span></big><br>
</div>
The display at right is from the file <a
 href="../ethane-staggered-3-21G.log">ethane-staggered-3-21G.log</a>.
&nbsp;To follow along you can use the applet at right or download
the
file and <a href="../Export_to_Web_Tutorial.html#Opening_a_file">open
it</a> in a copy of the Jmol application. &nbsp;<br>
<br>
If you are using the applet at right you can return to this view by
clicking the button below.
<table style="text-align: center; width: 100%;" border="1"
 cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td>
      <script type="text/javascript">
document.write(jmolButton("script Default_ethane.spt", "Default ethane")); </script><br>
      </td>
    </tr>
  </tbody>
</table>
<div style="text-align: center;"><big style="font-weight: bold;">Getting
Started<br>
</big>
<div style="text-align: left;">It
is easiest to do this from the command line. &nbsp;Annotation using
the
menus will not be discussed in this tutorial. &nbsp;In both the
application
and the applet <span style="font-weight: bold;">open the
script console</span> using the pop-up menu (right
mouse button, control-click on one button mouse, &gt; Console).
&nbsp;In the
application you can also use the pull-down menu (File &gt; Script
...).<br>
<a
 href="../Jmol%20Commands%20and%20Scripting/Jmol%20Commands%20and%20Scripting.html">Tutorial
on
and more links about the Script/Console and commands</a>.</div>
</div>
<hr style="width: 100%; height: 2px;">
<div style="text-align: center;"><span style="font-weight: bold;">Topics</span>
<br>
<table style="text-align: left; width: 100%;" border="1" cellpadding="2"
 cellspacing="2">
  <tbody>
    <tr>
      <td>&gt;<a href="Adding%20Text%20and%20Labels.html#Labeling_Atoms">Labeling
Atoms</a></td>
      <td>&gt;<a
 href="Adding%20Text%20and%20Labels.html#Labeling_Groups">Labeling
Groups</a></td>
      <td>&gt;<a
 href="Adding%20Text%20and%20Labels.html#Positioning_Labels">Positioning
Labels</a></td>
    </tr>
    <tr>
      <td colspan="3" rowspan="1">&gt;<a
 href="Adding%20Text%20and%20Labels.html#Echos">Basic
Floating Text (Echos)</a><br>
&gt;<a href="Adding%20Text%20and%20Labels.html#Changing_Size_Font">Changing
Size,
Font and Color of Labels and Echos</a></td>
    </tr>
  </tbody>
</table>
<br>
</div>
<hr style="width: 100%; height: 2px;">
<div style="text-align: center;"><big><span style="font-weight: bold;"><a
 name="Labeling_Atoms"></a>Labeling
Atoms<br>
</span></big>
<div style="text-align: left;">Select the atoms you want
to label.<br>
<ul>
  <li>"<span style="font-weight: bold;">select none</span>"
will deselect all the atoms.</li>
  <li>"<span style="font-weight: bold;">select visible</span>" will
select all the visible atoms. <br>
  </li>
  <li>"<span style="font-weight: bold;">select all</span>"
will select all the atoms in all frames.</li>
  <li>"<span style="font-weight: bold;">select <span
 style="font-style: italic;">atomtype</span></span><span
 style="font-style: italic;">", </span>where
"atomtype" = carbon, hydrogen, nitrogen, etc... will select all the
atoms of that type in a file.</li>
  <li>"<span style="font-weight: bold;">select</span>
    <span style="font-style: italic;"><span style="font-weight: bold;">atomexpression</span>"</span>,
where
"atomexpression" is an expression which can be used to select
atoms within specific frames, amino acid residues and so on. Simple
examples with amino acids are shown <a
 href="../Adding%20text%20and%20Labels%20to%20Jmol/Jmol%20text%20and%20labels.html#Labeling_Groups">below</a>.
&nbsp;More
detailed information may be found in <a
 href="http://chemapps.stolaf.edu/jmol/docs/index.htm?ver=11.6#atomexpressions"
 target="_blank">Bob Hanson's Jmol Scripting Documentation</a><img
 alt="External Website, Opens in New Window" src="../newwindow.gif"
 height="13" width="16">.</li>
</ul>
Label the selected atoms. &nbsp;For the ethane file I suggest
starting with "<span style="font-weight: bold;">select hydrogen</span>"
as the initial selection.<br>
<ul>
  <li>"<span style="font-weight: bold;">label</span>"
will label all selected atoms with the default information.
&nbsp;The number following the "/" is the frame number.</li>
  <li>"<span style="font-weight: bold;">label %a</span>"
will show just the atom symbol and index number.</li>
  <li><span style="font-weight: bold;">"label off</span>"
will turn off the label on the selected atoms.</li>
  <li>"<span style="font-weight: bold;">label %e</span>"
will show just the element symbol.</li>
  <li>"<span style="font-weight: bold;">label %P</span>" will show the
partial charge on each element if available.<br>
  </li>
  <li>"<span style="font-weight: bold;">label "your
text"</span>" will label the atom with "your text".</li>
  <li>Additional options may be found in <a
 href="http://chemapps.stolaf.edu/jmol/docs">Bob Hanson's
Jmol Scripting Documentation</a><img
 alt="External Website, Opens in New Window" src="../newwindow.gif"
 height="13" width="16">
under the label command.</li>
</ul>
<div>
<div style="text-align: center;"><big style="font-weight: bold;"><a
 name="Labeling_Groups"></a>Labeling
Groups</big><br>
</div>
The key here
is that labels are associated with particular
atoms so you must select a specific atom within the group to label.
&nbsp;As the example here we will use a protein/DNA complex 1lcd
(download the file to use in the application&nbsp;<a href="1lcd.pdb1.gz"
 target="_blank">here</a>).
&nbsp;To load it into the applet at right click the button below. </div>
</div>
</div>
<table style="text-align: center; width: 100%;" border="1"
 cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td>
      <div>
      <script type="text/javascript">
document.write(jmolButton("script Load_1lcd.spt", "Load 1lcd")); </script></div>
      <br>
      </td>
    </tr>
  </tbody>
</table>
<ul>
  <li>
    <div>Select a particular type of atom within a group.
&nbsp;We will select the alpha-carbon of the arginine group.
&nbsp;The command is "<span style="font-weight: bold;">select
[arg]*.CA</span>". &nbsp;The "*" indicates all arginines.
&nbsp;Use the standard 3 letter abbreviations for other amino
acids. The ".CA" indicates the alpha carbon. &nbsp;Replacing it
with ".N" would select the amino group participating in the peptide
bond; ".C" would select the
carboxylic acid carbon participating in the peptide bond. &nbsp;To
select all the nitrogens in all
the arginines use "select (arg and nitrogen)". &nbsp;More detailed
information may be found in <a
 href="http://chemapps.stolaf.edu/jmol/docs/index.htm?ver=11.6#atomexpressions"
 target="_blank">Bob Hanson's Jmol Scripting Documentation</a><img
 alt="External Website, Opens in New Window" src="../newwindow.gif"
 height="13" width="16">.</div>
  </li>
  <li>
    <div>To label the group as arginine once you have selected
only one atom in the group use "<span style="font-weight: bold;">label
"ARG"</span>".</div>
  </li>
  <li>
    <div>This label is hard to see. &nbsp;We can make it
better by insisting it be in front of all atom (command "<span
 style="font-weight: bold;">set labelfront</span>") and
making it a brighter color (command "<span style="font-weight: bold;">color
label
yellow</span>").</div>
  </li>
  <li>
    <div>It is still hard to see which groups it is associated
with. &nbsp;We can expand them a little by making them partially
spacefilling (command: "<span style="font-weight: bold;">select
arg; spacefill 50%</span>").</div>
  </li>
</ul>
<div style="text-align: center;"><big style="font-weight: bold;"><a
 name="Positioning_Labels"></a>Positioning
Labels</big><br>
</div>
<big style="font-weight: bold;"><span style="font-weight: bold;"></span></big>It
is
hard to see everything on a large protein structure so switch back to
the ethane example for the rest of the tutorial. &nbsp;If you are
working in the application and haven't downloaded the file get it <a
 href="ethane-staggered-3-21G.log">here</a>.
&nbsp;
<table style="text-align: center; width: 100%;" border="1"
 cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td>
      <script type="text/javascript">
document.write(jmolButton("script Reload_ethane.spt", "Reload ethane")); </script><br>
      </td>
    </tr>
  </tbody>
</table>
<div>
To start label all the hydrogens (command: "<span
 style="font-weight: bold;">select hydrogen; label %a;</span>")
<ul>
  <li>Center labels on atoms: "<span style="font-weight: bold;">set
labelalignment center; set labeloffset 0 0;</span>" &nbsp;The
offset is the number of pixels in the X and Y directions from the
center of the atom to the beginning of the label, so the label will be
aligned with the center of the atom.</li>
  <li>Make the labels float in front of all atoms: "<span
 style="font-weight: bold;">set labelfront</span>".
&nbsp;To turn this off: "<span style="font-weight: bold;">set
labelfront off</span>".</li>
  <li>Labels off to the left:&nbsp;<span style="font-weight: bold;"><span
 style="font-weight: bold;"><span style="font-weight: bold;"></span></span></span>"<span
 style="font-weight: bold;">set labelalignment right; set
labeloffset -20 0;</span>".</li>
  <li>Labels off to the right: "<span style="font-weight: bold;">set
labelalignment left; set
labeloffset&nbsp;20 0;</span>".</li>
</ul>
</div>
<div><br>
</div>
<div>
<div style="text-align: center;"><big style="font-weight: bold;">Basic
Floating Text (<a name="Echos"></a>Echos)</big><br>
</div>
<div style="text-align: left;">
<ul>
  <li>To echo text in one of the nine standard positions: "<span
 style="font-weight: bold;">set echo <span style="font-style: italic;">position</span>;
echo
"your text</span>;<span style="font-weight: bold;">"</span>",
where position is: top left, top center, top right, middle left, middle
center, middle right, bottom left, bottom center or bottom right.
&nbsp;Examples: "<span style="font-weight: bold;">set
echo top left; echo "top left"</span>;" will display "top left"
in the top left corner. &nbsp;"<span style="font-weight: bold;">set
echo bottom center; echo "bottom center";</span>" will display
"bottom center" at the center near the bottom.</li>
  <li>You can also use named echos so that you can move them
around and do further manipulation. &nbsp;To name an echo issue two
commands in a row:</li>
  <ol>
    <li>"<span style="font-weight: bold;">set echo <span
 style="font-style: italic;">echoname</span></span>
&nbsp;<span style="font-weight: bold;">XX% YY%</span>",
where <span style="font-style: italic;">echoname</span>
is the name you want to use for the echo and XX% and YY% are X and Y
coordinates of the echo position from the bottom left in % of the
applet size.</li>
    <li><span style="font-weight: bold;"><span
 style="font-style: italic;"></span></span>"<span
 style="font-weight: bold;">echo "your echo text"</span>".</li>
  </ol>
</ul>
<ul>
  <li>A complete example&nbsp;to try is: "<span
 style="font-weight: bold;">set echo example 50% 75%; echo
&nbsp;"This test should appear above the ethane";</span>"</li>
  <li>You can move it to a new spot with a command like "<span
 style="font-weight: bold;">set echo example&nbsp;5% 25%</span>"</li>
</ul>
<ul>
  <ol>
  </ol>
</ul>
</div>
</div>
<div><br>
</div>
<div>
<div>
<div style="text-align: center;"><big style="font-weight: bold;"><a
 name="Changing_Size_Font"></a>Changing
Size,
Font and Color of Labels and Echos</big><br>
</div>
<div style="text-align: left;">
<ul>
  <li>"<span style="font-weight: bold;">color label
blue</span>" colors the last labels of the currently selected atoms
blue.</li>
  <li>"<span style="font-weight: bold;">color echo
blue</span>" colors the last echo that was accessed blue.<span
 style="font-weight: bold;"></span></li>
  <li>"<span style="font-weight: bold;">font echo 24
serif bold</span>" will make the last echo size 24 (range is
6-63), use the serif font (serif, sanserif and monospaced are the
options) and make it bold faced (plain, italic and bold are the
options).</li>
  <li>"<span style="font-weight: bold;">font</span>
    <span style="font-weight: bold;">label 12 monospaced
italic</span>" will make the labels of the currently selected atoms
size 12 monospaced
italics.</li>
</ul>
</div>
</div>
</div>
<div id="authordiv" style="text-align: right;">
Based on template by A. Herr&aacute;ez as modified by J. Gutow
</div>
<div id="creationdiv" style="text-align: right;"> <small>Page
skeleton and <a href="http://www.java.com">JavaScript</a>
generated by export to web function of (<a
 href="http://jmol.sourceforge.net">Jmol 11.4.4 2007-12-20
06:37</a>) on Jan 13, 2011. </small><br>
</div>
<div id="logdiv" style="display: none;">
<pre>Using directory /Users/jonathan/Documents/Presentations/BCCE 2008/How-To/Adding Text and Labels
adding JmolPopIn.js
...jmolApplet0
...adding Default_ethane.png
...copying /Users/jonathan/Documents/Presentations/BCCE 2008/How-To/ethane-staggered-3-21G.log to /Users/jonathan/Documents/Presentations/BCCE 2008/How-To/Adding Text and Labels/ethane-staggered-3-21G.log
...copying Jmol.js to /Users/jonathan/Documents/Presentations/BCCE 2008/How-To/Adding Text and Labels/Jmol.js
...copying JmolApplet.jar to /Users/jonathan/Documents/Presentations/BCCE 2008/How-To/Adding Text and Labels/JmolApplet.jar
...adding Default_ethane.spt
...jmolApplet1
...adding Load_1lcd.png
...copying /Users/jonathan/Documents/Presentations/BCCE 2008/How-To/1lcd.pdb1.gz to /Users/jonathan/Documents/Presentations/BCCE 2008/How-To/Adding Text and Labels/1lcd.pdb1.gz
...copying Jmol.js to /Users/jonathan/Documents/Presentations/BCCE 2008/How-To/Adding Text and Labels/Jmol.js
...copying JmolApplet.jar to /Users/jonathan/Documents/Presentations/BCCE 2008/How-To/Adding Text and Labels/JmolApplet.jar
...adding Load_1lcd.spt
...jmolApplet2
...adding Reload_ethane.png
...copying /Users/jonathan/Documents/Presentations/BCCE 2008/How-To/ethane-staggered-3-21G.log to /Users/jonathan/Documents/Presentations/BCCE 2008/How-To/Adding Text and Labels/ethane-staggered-3-21G.log
...copying Jmol.js to /Users/jonathan/Documents/Presentations/BCCE 2008/How-To/Adding Text and Labels/Jmol.js
...copying JmolApplet.jar to /Users/jonathan/Documents/Presentations/BCCE 2008/How-To/Adding Text and Labels/JmolApplet.jar
...adding Reload_ethane.spt
</pre>
</div>
</div>
<!--content--></div>
<!--mainPane-->
</body>
</html>
